<!DOCTYPE html>
<html>
  <head>
      <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
      <meta 
          name="viewport" 
          content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

      <link rel="stylesheet" href="./css/styles.css">

      <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
      <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>

  <body>
    <div id="scripts">
        <script src="./js/main.js"></script>
    </div>

    <a-scene 
        embedded 
        arjs='trackingMethod: best; debugUIEnabled: false; sourceType: webcam;'
        renderer="logarithmicDepthBuffer: true;"
        vr-mode-ui="enabled: false"
        gesture-detector
        id="scene">

        <a-assets>
            <a-asset-item id="model" src="./data/models/scene.gltf"></a-asset-item>
        </a-assets>
      
        <a-marker 
            id="barcode-marker" 
            type='pattern' 
            cursor="fuse: false; rayOrigin: mouse" 
            pmarkerhandler 
            emitevents="true" 
            reset="pattern" 
            smooth="true"
            smoothCount="10"
            smoothTolerance=".01"
            smoothThreshold="5"
            raycaster="objects: .clickable"
            url='https://raw.githubusercontent.com/hophiphip/lok/master/data/patt/pattern-lok-marker.patt'>

            <!--
            <a-box
                id="barcode-model"
                position='0 0.5 0' 
                class="clickable"
                scale="1 1 1"
                material='color: red;' 
                gesture-handler="minScale: 0.25; maxScale: 10"
                soundhandler>
            </a-box>
            -->
            
            <!--
            <a-text 
                id="barcode-text" 
                value="Inital barcode"  
                color = "purple" 
                position = "1 -3 0" 
                rotation="270 0 0" 
                scale = "2 2 2">
            </a-text>
            -->

            <a-entity scale="1 1 1">
                <a-entity mmd='outline: true' afterglow:2.0;>
                    <a-entity 
                        scale="0.1 0.1 0.1" 
                        position="0 0 0"
                        animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
                        gltf-model="#model">
                    </a-entity>
                </a-entity>
            </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
